### Requirements

See requirements.txt

For install use:
`pip3 install -r requirements.txt`

### Tests

See `test_selenium_rtk.py`
Run `pytest test_selenium_rtk.py` or `pytest test_selenium_rtk.py::test_name`. (Use def names instead test_name)

### Settings
See credentials in the file `settings.py`
File contains correct and uncorrect credentials for one user, uses in tests.
Fill data to `phone_number`, `email` and `password`.

### Before run

Set your own settings for parameters `phone_number`, `email` and `password` in `settings.py`.

If you are using Chrome version 106, you can use chromedriver in a project.
If you use another version chrome or another browser, you must:
- change the path to the file __./chromedriver.exe__ to driver file path on your PC in __test_selenium_petfriends.py__.

Or

- put your driver in the project root folder nearby/instead __chromedriver.exe__.

Make sure that you run python scripts under administration rights.

***
### Описание тест кейсов

- test_phone_authorization_elk_web:
Проверка успешной авторизации по телефону и паролю, зарегистрированному в системе;
Проверяется ресурс ЕЛК Web;
Результатом является вход в ЛК (на страницу переадресации после успешной авторизации).

- test_login_authorization_elk_web:
Проверка неуспешной авторизации по телефону и паролю;
Телефон не зарегистрирован в системе;
Проверяется ресурс ЕЛК Web;
Результатом является появление сообщения "Неверный логин или пароль", переадресации не происходит.

- test_phone_authorization_onlime_web:
Проверка успешной авторизации по телефону и паролю, зарегистрированному в системе;
Проверяется ресурс Онлайм Web;
Результатом является вход в ЛК (на страницу переадресации после успешной авторизации).

- test_login_authorization_onlime_web:
Проверка неуспешной авторизации по логину и паролю, зарегистрированному в системе;
Проверяется ресурс Онлайм Web;
Результатом является появление сообщения "Неверный логин или пароль", переадресации не происходит.

- test_email_authorization_elk_web:
Проверка успешной авторизации по почте и паролю, зарегистрированному в системе;
Проверяется ресурс ЕЛК Web;
Результатом является вход в ЛК (на страницу переадресации после успешной авторизации).

- test_account_authorization_elk_web:
Проверка неуспешной авторизации по лицевому счету и паролю;
Лицевой счет не зарегистрирован в системе;
Проверяется ресурс ЕЛК Web;
Результатом является появление сообщения "Неверный логин или пароль", переадресации не происходит.

-test_email_authorization_onlime_web:
Проверка успешной авторизации по почте и паролю, зарегистрированному в системе;
Проверяется ресурс Онлайм Web;
Результатом является вход в ЛК (на страницу переадресации после успешной авторизации).

- test_code_phone_authorization:
Проверка успешной авторизации по коду на телефон, зарегистрированный в системе;
Проверяется ресурс Онлайм Web;
Результатом является страница подтверждения кода.

- test_code_email_authorization:
Проверка успешной авторизации по коду на почту, зарегистрированный в системе;
Проверяется ресурс Онлайм Web;
Результатом является страница подтверждения кода.

- test_phone_authorization_start_web:
Проверка успешной авторизации по телефону, зарегистрированному в системе;
Проверяется ресурс Старт Web;
Результатом является вход в ЛК (на страницу переадресации после успешной авторизации).

- test_phone_authorization_smart_home_web:
Проверка успешной авторизации по телефону, зарегистрированному в системе;
Проверяется ресурс Умный дом Web;
Результатом является вход в ЛК (на страницу переадресации после успешной авторизации).

- test_phone_authorization_key_web:
Проверка успешной авторизации по телефону, зарегистрированному в системе;
Проверяется ресурс Ключ Web;
Результатом является вход в ЛК (на страницу переадресации после успешной авторизации).

- test_phone_recovery_elk_web:
Проверка неуспешного восстановления по телефону, зарегистрированному в системе;
Проверяется ресурс ЕЛК Web;
Восстановление запрашивается без ввода капчи;
Результатом является появление сообщения "Неверный логин или текст с картинки", переадресации не происходит.

- test_phone_recovery_onlime_web:
Проверка неуспешного восстановления по телефону, зарегистрированному в системе;
Проверяется ресурс Онлайм Web;
Восстановление запрашивается без ввода капчи;
Результатом является появление сообщения "Неверный логин или текст с картинки", переадресации не происходит.

- test_phone_recovery_start_web:
Проверка неуспешного восстановления по телефону, зарегистрированному в системе;
Проверяется ресурс Старт Web;
Восстановление запрашивается без ввода капчи;
Результатом является появление сообщения "Неверный логин или текст с картинки", переадресации не происходит.

- test_phone_recovery_smart_home_web:
Проверка неуспешного восстановления по телефону, зарегистрированному в системе;
Проверяется ресурс Умный дом Web;
Восстановление запрашивается без ввода капчи;
Результатом является появление сообщения "Неверный логин или текст с картинки", переадресации не происходит.

- test_phone_recovery_key_web:
Проверка неуспешного восстановления по телефону, зарегистрированному в системе;
Проверяется ресурс Ключ Web;
Восстановление запрашивается без ввода капчи;
Результатом является появление сообщения "Неверный логин или текст с картинки", переадресации не происходит.

- test_phone_registration_elk_web:
Проверка неуспешной регистрации;
Данные проходят валидацию при регистрации;
Создаваемый пользователь не существует в системе;
Проверяется ресурс ЕЛК Web;
Результатом является страница подтверждения кода, отправленного на почту.

- test_by_code_to_phone_registration_onlime_web:
Проверка неуспешной регистрации с помощью отправки кода на телефон;
Данные проходят валидацию при регистрации;
Создаваемый пользователь не существует в системе;
Проверяется ресурс Онлайм Web;
Результатом является страница подтверждения кода, отправленного на телефон.

- test_by_code_to_email_registration_onlime_web:
Проверка неуспешной регистрации с помощью отправки кода на почту;
Данные проходят валидацию при регистрации;
Создаваемый пользователь не существует в системе;
Проверяется ресурс Онлайм Web;
Результатом является страница подтверждения кода, отправленного на почту.

- test_registration_start_web:
Проверка неуспешной регистрации;
Данные не проходят валидацию при регистрации;
Создаваемый пользователь не существует в системе;
Проверяется ресурс Старт Web;
Результатом является получение ошибок валидации (ошибка валидации логина, пароля и его подтверждения);

- test_registration_smart_home_web:
Проверка неуспешной регистрации;
Данные не проходят валидацию при регистрации;
Создаваемый пользователь не существует в системе;
Проверяется ресурс Умный дом Web;
Результатом является получение ошибок валидации (пароли не совпадают);

- test_registration_key_web:
Проверка неуспешной регистрации;
Данные не проходят валидацию при регистрации;
Создаваемый пользователь не существует в системе;
Проверяется ресурс Умный дом Web;
Результатом является получение ошибок валидации (ошибка валидации имени и фамилии);

Итого - 23

### Что не было выполнено, почему, а также какие проблемы возникли при выполнении

Обработка капчи - требует больше времени на выполнение, для качественной работы подбора капчи потребуются деньги на платные сервисы.
Бесплатные сервисы существуют, но с имеющимися ограничениями время выполнения данной работы заметно увеличивается;

Реализация более гибких автотестов - нет доступа к тестовой БД, нет тестовых УЗ;
Ограничение влияет на автоматизацию удаления пользователя из системы и повторную регистрацию, поскольку повторная регистрация невозможна,
снижается качество и количество тестов, которые её могут покрыть;
Нельзя так просто создавать новые учетные записи, как это было в Pets Api, поскольку создание усложнено дополнительными подтверждениями логина
и завязано на наличии зарегистрированного почтового ящика или номера телефона;

Обработка ввода кода подтверждения на телефон и на почту - требует больше времени выполнения, подобные задачи требуют специальных знаний апи
почтовых сервисов, использование специализированных сервисов, позволяющих использовать виртуальный телефон и обрабатывать приходящие на него смс.
В том числе большиство или почти все такие сервисы требуют денежных вложений.

Даже при текущей реализации некоторые тесты могут сломаться, системы постоянно дорабатываются. На момент написания автотестов некоторые "тестируемые" системы
были доработаны, что в свою очередь доставило проблем по актуализации исходных кодов автотестов. Без актуализации автотесты могут прийти в негодность уже завтра,
поскольку нет фиксированной версии продукта, на который они пишутся.